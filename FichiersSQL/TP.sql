--Creation des tables

SET ECHO ON

DROP TABLE CLT cascade constraint
/
DROP TABLE VEHICULE cascade constraint
/
DROP TABLE MOIS
/
DROP TABLE TYPE_ASSURANCE
/
DROP TABLE DOSSIER
/
DROP TABLE AMORTISS
/
DROP TABLE ETAT_MATRIMONIAL
/
DROP TABLE NBR_ANN_CONDUCTEUR
/
DROP TABLE MARQUE_VEHICULE cascade constraint
/
DROP TABLE MODELE_VEHICULE cascade constraint
/
DROP SEQUENCE clt_sequence
/
DROP SEQUENCE VEHICULE_sequence
/
ALTER SESSION SET NLS_DATE_FORMAT = 'DD/MM/YYYY'
/
DROP TABLE ANN_VOI_TURE
/
CREATE TABLE CLT
(
ID number(10) NOT NULL,
GENRE VARCHAR2(20),
NOM VARCHAR2(20),
PRENOM VARCHAR2(20),
DATE_NAISSANCE DATE,
ETAT_MATRIMONIAL  VARCHAR2(20),
NBR_ANN_CONDUCTEUR VARCHAR2(80),
AGE INTEGER,
CONSTRAINT CleprimaireCLT PRIMARY KEY(ID)
)
/
Create sequence clt_sequence
/
CREATE OR REPLACE TRIGGER clt_on_insert
  BEFORE 
	INSERT ON CLT
  FOR EACH ROW
BEGIN
  SELECT clt_sequence.nextval
  INTO :new.ID
  FROM dual;
END
/
CREATE TABLE VEHICULE 
(
ID number(10) NOT NULL  ,
ID_CLT INTEGER,
MARQUE_VEHICULE VARCHAR2(20),
ANNEE_DU_VEHICULE INTEGER,
MODELE_VEHICULE VARCHAR2(20),
KILOMETRAGE INTEGER,
CONSTRAINT CleprimaireVeh PRIMARY KEY(ID),
CONSTRAINT FKA FOREIGN KEY (ID_CLT) REFERENCES CLT (ID)
)
/
CREATE OR REPLACE TRIGGER VEHICULE_sequence
/
CREATE TRIGGER VEHICULE_on_insert
  BEFORE 
	INSERT ON VEHICULE
  FOR EACH ROW
BEGIN
  SELECT VEHICULE_sequence.nextval
  INTO :new.id
  FROM dual;
END
/
CREATE TABLE MOIS 
(
ID INTEGER,
MOIS VARCHAR2(20),
CONSTRAINT CleprimairMois PRIMARY KEY(ID)
)
/
CREATE TABLE DOSSIER 
(
ID INTEGER,
STATUS VARCHAR2(20),
CONSTRAINT CleprimaireDossier PRIMARY KEY(ID)
)
/
CREATE TABLE ETAT_MATRIMONIAL 
(
ID INTEGER,
ETAT VARCHAR2(20),
CONSTRAINT CleprimaireEtat PRIMARY KEY(ID)
)
/
CREATE TABLE TYPE_ASSURANCE 
(
ID INTEGER,
ASSURANCE VARCHAR2(50),
CONSTRAINT CleprimaireAssurance PRIMARY KEY(ID)
)
/
CREATE TABLE NBR_ANN_CONDUCTEUR 
(
ID INTEGER,
NBRANNEE VARCHAR2(80),
CONSTRAINT CleprimaireCond PRIMARY KEY(ID)
)
/
CREATE TABLE MARQUE_VEHICULE 
(
ID INTEGER,
MARQUE VARCHAR2(20),
CONSTRAINT CleprimaireMarque PRIMARY KEY(ID)
)
/
CREATE TABLE MODELE_VEHICULE 
(
ID INTEGER,
ID_MA INTEGER,
MODELE VARCHAR2(20),
CONSTRAINT CleprimaireModele PRIMARY KEY(ID),
CONSTRAINT FKB FOREIGN KEY (ID_MA) REFERENCES MARQUE_VEHICULE(ID)
)
/
CREATE TABLE AMORTISS
(
id INTEGER,
duree VARCHAR2(10),
CONSTRAINT pk_amortissement PRIMARY KEY (id)
)
/
CREATE TABLE ANN_VOI_TURE 
(
ID INTEGER,
ANNEE VARCHAR2(20),
CONSTRAINT pk_ann PRIMARY KEY (ID)
)
/
INSERT INTO DOSSIER 
VALUES (1, 'Excellent')
/
INSERT INTO DOSSIER 
VALUES (2, 'Bon')
/
INSERT INTO DOSSIER 
VALUES (3, 'Moyenne')
/
INSERT INTO DOSSIER 
VALUES (4, 'Mauvais')
/
INSERT INTO DOSSIER 
VALUES (5, 'Tres Mauvais')
/
INSERT INTO AMORTISS 
VALUES (1, '5 ans')
/
INSERT INTO AMORTISS 
VALUES (2, '10 ans')
/
INSERT INTO AMORTISS
VALUES (3, '15 ans')
/
INSERT INTO AMORTISS 
VALUES (4, '20 ans')
/
INSERT INTO AMORTISS 
VALUES (5, '25 ans')
/
INSERT INTO MOIS
 	VALUES(1, 'Janvier')
/
INSERT INTO MOIS
 	VALUES(2,'Fevrier')
/
INSERT INTO MOIS
 	VALUES(3,'Mars')
/
INSERT INTO MOIS
 	VALUES(4,'Avril')
/
INSERT INTO MOIS
 	VALUES(5,'Mai')
/
INSERT INTO MOIS
 	VALUES(6,'Juin')
/
INSERT INTO MOIS
 	VALUES(7,'Juillet')
/
INSERT INTO MOIS
 	VALUES(8,'Aout')
/
INSERT INTO MOIS
 	VALUES(9,'Septembre')
/
INSERT INTO MOIS
 	VALUES(10,'Octobre')
/
INSERT INTO MOIS
 	VALUES(11,'Novembre')
/
INSERT INTO MOIS
 	VALUES(12,'Decembre')
/
INSERT INTO ETAT_MATRIMONIAL
 	VALUES(1,'Marie(e)')
/
INSERT INTO ETAT_MATRIMONIAL
 	VALUES(2,'Divorce(e)')
/
INSERT INTO ETAT_MATRIMONIAL
 	VALUES(3,'Celibataire')
/
INSERT INTO ETAT_MATRIMONIAL
 	VALUES(4,'Conjoint(e) de fait')
/
INSERT INTO ETAT_MATRIMONIAL
 	VALUES(5,'Veuf/Veuve')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(1 , 'Moins de 1 an')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(2 , 'Entre 1 et 2 ans')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(3 , 'Entre 2 et 3 ans')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(4 , 'Entre 3 et 4 ans')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(5 , 'Entre 4 et 5 ans')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(6 , '5 ans et plus')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(7 , 'N est pas conducteur principale actuellement')
/
INSERT INTO TYPE_ASSURANCE
 	VALUES(1 , 'Simple base')
/
INSERT INTO TYPE_ASSURANCE
 	VALUES(2 , 'Simple tout risque')
/
INSERT INTO TYPE_ASSURANCE
 	VALUES(3 , 'Double base')
/
INSERT INTO TYPE_ASSURANCE
 	VALUES(4 , 'Double tout risque')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(20 , 'LAMBURGUINI')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(21 , 'MAZARATI')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(22 , 'BUGATTI')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(23 , 'MERCEDES')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(24 , 'BMW')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(25 , 'AUDI')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(26 , 'PORSHE')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(27 , 'MAZDA')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(28 , 'HONDA')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(29 , 'TOYOTA')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(30 , 'FORD')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(1 ,20 , 'aventador')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(2,21 , 'quattroporte')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(3,22 ,  'veyron')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(4,23 ,  's600')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(5,24 ,  'x6')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(6,25 , 'a7')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(7,26 , 'panamera')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(8,23 , 'c250')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(9,24 ,  'x3')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(10,25 , 'a3')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(11,30 ,  'fiesta')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(12,29 , 'yaris')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(13,29 , 'corolla')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(14,28 , 'civic')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(15,27 , 'mazda3')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(16,28 , 'CIVIC SI 4P')
/
INSERT INTO ANN_VOI_TURE
	VALUES(1, '1997')
/
INSERT INTO ANN_VOI_TURE
	VALUES(2, '1998')
/
INSERT INTO ANN_VOI_TURE
	VALUES(3, '1999')
/
INSERT INTO ANN_VOI_TURE
	VALUES(4, '2000')
/
INSERT INTO ANN_VOI_TURE
	VALUES(5,'2001')
/
INSERT INTO ANN_VOI_TURE
	VALUES(6,'2002')
/
INSERT INTO ANN_VOI_TURE
	VALUES(7,'2003')
/
INSERT INTO ANN_VOI_TURE
	VALUES(8,'2004')
/
INSERT INTO ANN_VOI_TURE
	VALUES(9,'2005')
/	
INSERT INTO ANN_VOI_TURE
	VALUES(10,'2006')
/
INSERT INTO ANN_VOI_TURE
	VALUES(11,'2007')
/
INSERT INTO ANN_VOI_TURE
	VALUES(12,'2008')
/
INSERT INTO ANN_VOI_TURE
	VALUES(13,'2009')
/
INSERT INTO ANN_VOI_TURE
	VALUES(14,'2010')
/
INSERT INTO ANN_VOI_TURE
	VALUES(15,'2011')
/
INSERT INTO ANN_VOI_TURE
	VALUES(16,'2012')
/
INSERT INTO ANN_VOI_TURE
	VALUES(17,'2013')
/
INSERT INTO ANN_VOI_TURE
	VALUES(18,'2014')
/
INSERT INTO ANN_VOI_TURE
	VALUES(19,'2015')
/
INSERT INTO ANN_VOI_TURE
	VALUES(20,'2016')
/
INSERT INTO ANN_VOI_TURE
	VALUES(21,'2017')
/
commit;