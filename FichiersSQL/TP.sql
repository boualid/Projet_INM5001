--Creation des tables

SET ECHO ON

DROP TABLE CLT cascade constraint
/
DROP TABLE VEHICULE cascade constraint
/
DROP TABLE MOIS
/
DROP TABLE TYPE_ASSURANCE
/
DROP TABLE DOSSIER
/
DROP TABLE AMORTISS
/
DROP TABLE ETAT_MATRIMONIAL
/
DROP TABLE NBR_ANN_CONDUCTEUR
/
DROP TABLE MARQUE_VEHICULE cascade constraint
/
DROP TABLE MODELE_VEHICULE cascade constraint
/
DROP SEQUENCE clt_sequence
/
DROP SEQUENCE VEHICULE_sequence
/
ALTER SESSION SET NLS_DATE_FORMAT = 'DD/MM/YYYY'
/
CREATE TABLE CLT
(
ID number(10) NOT NULL,
GENRE VARCHAR2(20),
NOM VARCHAR2(20),
PRENOM VARCHAR2(20),
DATE_NAISSANCE DATE,
ETAT_MATRIMONIAL  VARCHAR2(20),
NBR_ANN_CONDUCTEUR VARCHAR2(80),
AGE INTEGER,
CONSTRAINT CleprimaireCLT PRIMARY KEY(ID)
)
/
Create sequence clt_sequence
/
CREATE OR REPLACE TRIGGER clt_on_insert
  BEFORE 
	INSERT ON CLT
  FOR EACH ROW
BEGIN
  SELECT clt_sequence.nextval
  INTO :new.id
  FROM dual;
END
/
CREATE TABLE VEHICULE 
(
ID number(10) NOT NULL  ,
ID_CLT INTEGER,
MARQUE_VEHICULE VARCHAR2(20),
ANNEE_DU_VEHICULE INTEGER,
MODELE_VEHICULE VARCHAR2(20),
KILOMETRAGE INTEGER,
CONSTRAINT CleprimaireVeh PRIMARY KEY(ID),
CONSTRAINT FKA FOREIGN KEY (ID_CLT) REFERENCES CLT (ID)
)
/
CREATE OR REPLACE TRIGGER VEHICULE_sequence
/
CREATE TRIGGER VEHICULE_on_insert
  BEFORE 
	INSERT ON VEHICULE
  FOR EACH ROW
BEGIN
  SELECT VEHICULE_sequence.nextval
  INTO :new.id
  FROM dual;
END
/
CREATE TABLE MOIS 
(
ID INTEGER,
MOIS VARCHAR2(20),
CONSTRAINT CleprimairMois PRIMARY KEY(ID)
)
/
CREATE TABLE DOSSIER 
(
ID INTEGER,
STATUS VARCHAR2(20),
CONSTRAINT CleprimaireDossier PRIMARY KEY(ID)
)
/
CREATE TABLE ETAT_MATRIMONIAL 
(
ID INTEGER,
ETAT VARCHAR2(20),
CONSTRAINT CleprimaireEtat PRIMARY KEY(ID)
)
/
CREATE TABLE TYPE_ASSURANCE 
(
ID INTEGER,
ASSURANCE VARCHAR2(50),
CONSTRAINT CleprimaireAssurance PRIMARY KEY(ID)
)
/
CREATE TABLE NBR_ANN_CONDUCTEUR 
(
ID INTEGER,
NBRANNEE VARCHAR2(80),
CONSTRAINT CleprimaireCond PRIMARY KEY(ID)
)
/
CREATE TABLE MARQUE_VEHICULE 
(
ID INTEGER,
MARQUE VARCHAR2(20),
CONSTRAINT CleprimaireMarque PRIMARY KEY(ID)
)
/
CREATE TABLE MODELE_VEHICULE 
(
ID INTEGER,
ID_MA INTEGER,
ANNEE INTEGER,
MODELE VARCHAR2(20),
CONSTRAINT CleprimaireModele PRIMARY KEY(ID),
CONSTRAINT FKB FOREIGN KEY (ID_MA) REFERENCES MARQUE_VEHICULE(ID)
)
/
CREATE TABLE AMORTISS
(
id INTEGER,
duree VARCHAR2(10),
CONSTRAINT pk_amortissement PRIMARY KEY (id)
)
/
INSERT INTO DOSSIER 
VALUES (1, 'Excellent')
/
INSERT INTO DOSSIER 
VALUES (2, 'Bon')
/
INSERT INTO DOSSIER 
VALUES (3, 'Moyen')
/
INSERT INTO DOSSIER 
VALUES (4, 'Mauvais')
/
INSERT INTO DOSSIER 
VALUES (5, 'Grave')
/
INSERT INTO AMORTISS 
VALUES (1, '5 ans')
/
INSERT INTO AMORTISS 
VALUES (2, '10 ans')
/
INSERT INTO AMORTISS
VALUES (3, '15 ans')
/
INSERT INTO AMORTISS 
VALUES (4, '20 ans')
/
INSERT INTO AMORTISS 
VALUES (5, '25 ans')
/
INSERT INTO MOIS
 	VALUES(1, 'Janvier')
/
INSERT INTO MOIS
 	VALUES(2,'Fevrier')
/
INSERT INTO MOIS
 	VALUES(3,'Mars')
/
INSERT INTO MOIS
 	VALUES(4,'Avril')
/
INSERT INTO MOIS
 	VALUES(5,'Mai')
/
INSERT INTO MOIS
 	VALUES(6,'Juin')
/
INSERT INTO MOIS
 	VALUES(7,'Juillet')
/
INSERT INTO MOIS
 	VALUES(8,'Aout')
/
INSERT INTO MOIS
 	VALUES(9,'Septembre')
/
INSERT INTO MOIS
 	VALUES(10,'Octobre')
/
INSERT INTO MOIS
 	VALUES(11,'Novembre')
/
INSERT INTO MOIS
 	VALUES(12,'Decembre')
/
INSERT INTO ETAT_MATRIMONIAL
 	VALUES(1,'Marie(e)')
/
INSERT INTO ETAT_MATRIMONIAL
 	VALUES(2,'Divorce(e)')
/
INSERT INTO ETAT_MATRIMONIAL
 	VALUES(3,'Celibataire')
/
INSERT INTO ETAT_MATRIMONIAL
 	VALUES(4,'Conjoint(e) de fait')
/
INSERT INTO ETAT_MATRIMONIAL
 	VALUES(5,'Veuf/Veuve')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(1 , 'Moins de 1 an')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(2 , 'Entre 1 et 2 ans')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(3 , 'Entre 2 et 3 ans')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(4 , 'Entre 3 et 4 ans')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(5 , 'Entre 4 et 5 ans')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(6 , '5 ans et plus')
/
INSERT INTO NBR_ANN_CONDUCTEUR
 	VALUES(7 , 'N est pas conducteur principale actuellement')
/
INSERT INTO TYPE_ASSURANCE
 	VALUES(1 , 'Assurance Simple')
/
INSERT INTO TYPE_ASSURANCE
 	VALUES(2 , 'Assurance Simple Tous risque')
/
INSERT INTO TYPE_ASSURANCE
 	VALUES(3 , 'Assurance Double')
/
INSERT INTO TYPE_ASSURANCE
 	VALUES(4 , 'Assurance Double Tous risque')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(20 , 'FORD')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(21 , 'HONDA')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(22 , 'HYUNDAI')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(23 , 'KIA')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(24 , 'MAZDA')
/
INSERT INTO MARQUE_VEHICULE
 	VALUES(25 , 'NISSAN')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(1 ,20 , 2018 , 'EDGE SE 4P TI')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(2,20 , 2018 , 'EDGE SEL 4P TI')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(3,20 , 2018 , 'ESCAPE S 4P 2RM')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(4,20 , 2018 , 'ESCAPE SE 4P 2RM')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(5,20 , 2018 , 'ESCAPE SEL 4P 2RM')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(6,20 , 2017 , 'EDGE SE 4P TI')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(7,20 , 2017 , 'EDGE SEL 4P TI')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(8,20 , 2017 , 'ESCAPE S 4P 2RM')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(9,20 , 2016 , 'ESCAPE SE 4P 2RM')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(10,20 , 2015 , 'ESCAPE SEL 4P 2RM')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(11,21 , 2018 , 'CIVIC SI 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(12,21 , 2018 , 'FIT DX 5P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(13,21 , 2018 , 'FIT EX 5P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(14,21 , 2018 , 'FIT EX-L 5P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(15,21 , 2018 , 'FIT LX 5P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(16,21 , 2017 , 'CIVIC SI 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(17,21 , 2017 , 'FIT DX 5P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(18,21 , 2017 , 'FIT EX 5P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(19,21 , 2016 , 'FIT EX-L 5P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(20,21 , 2015 , 'FIT LX 5P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(21,22 , 2018 , 'ELANTRA GL 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(22,22 , 2018 , 'ELANTRA GLS 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(23,22 , 2018 , 'ELANTRA L 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(24,22 , 2018 , 'ELANTRA LE 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(25,22 , 2018 , 'ELANTRA LIMITED 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(26,22 , 2017 , 'ELANTRA GL 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(27,22 , 2017 , 'ELANTRA GLS 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(28,22 , 2017 , 'ELANTRA L 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(29,22 , 2016 , 'ELANTRA LE 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(30,22 , 2015 , 'ELANTRA LIMITED 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(31,23 , 2018 , 'RIO EX 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(32,23 , 2018 , 'OPTIMAL LX 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(33,23 , 2018 , 'OPTIMAL EX 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(34,23 , 2018 , 'RIO LX 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(35,23 , 2018 , 'RIO5 EX 5P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(36,23 , 2017 , 'RIO EX 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(37,23 , 2017 , 'OPTIMAL LX 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(38,23 , 2017 , 'OPTIMAL EX 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(39,23 , 2016 , 'RIO LX 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(40,23 , 2015 , 'RIO5 EX 5P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(41,24 , 2018 , 'CX-3 GS 4P 2RM')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(42,24 , 2018 , 'CX-3 GS 4P TI')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(43,24 , 2018 , 'CX-3 GT 4P TI')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(44,24 , 2018 , 'CX-3 GX 4P 2RM')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(45,24 , 2018 , 'MAZDA3 GS SKY 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(46,24 , 2017 , 'CX-3 GS 4P 2RM')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(47,24 , 2017 , 'CX-3 GS 4P TI')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(48,24 , 2017 , 'CX-3 GT 4P TI')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(49,24 , 2016 , 'CX-3 GX 4P 2RM')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(50,24 , 2015 , 'MAZDA3 GS SKY 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(51,25 , 2018 , '370Z 2P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(52,25 , 2018 , 'GT-R 2P TI')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(53,25 , 2018 , 'SENTRA 1.8 SL 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(54,25 , 2018 , 'SENTRA SR TURBO 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(55,25 , 2018 , 'NV 1500 S V6 CARGO')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(56,25 , 2017 , '370Z 2P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(57,25 , 2017 , 'GT-R 2P TI')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(58,25 , 2017 , 'SENTRA 1.8 SL 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(59,25 , 2016 , 'SENTRA SR TURBO 4P')
/
INSERT INTO MODELE_VEHICULE
 	VALUES(60,25 , 2015 , 'NV 1500 S V6 CARGO')
/
commit;